# Оптимизация видео для Hero секции

## Что было сделано

Видео `public/videos/video.mp4` было добавлено в первый слайд Hero секции с следующими оптимизациями:

### 1. Ленивая загрузка
- Атрибут `preload="metadata"` - загружается только метаданные видео, а не полное видео
- Видео начинает загружаться только когда элемент виден

### 2. Fallback изображение
- Пока видео загружается, показывается статичное изображение
- Плавный переход от изображения к видео через `opacity`

### 3. Оптимизация для мобильных устройств
- На мобильных устройствах видео масштабируется правильно
- Используется `playsinline` для воспроизведения без полноэкранного режима

### 4. Автоматическое воспроизведение
- `autoplay` + `muted` + `loop` - бесшумное циклическое воспроизведение
- Работает на всех современных браузерах

## Дополнительная оптимизация видео файла

Для еще более быстрой загрузки рекомендуется оптимизировать сам видео файл:

### Рекомендуемые параметры FFmpeg:

```bash
# Оптимизация для веб (быстрая загрузка)
ffmpeg -i video.mp4 -c:v libx264 -preset slow -crf 28 -vf "scale=1920:-2" -c:a aac -b:a 128k -movflags +faststart video_optimized.mp4

# Создание мобильной версии (меньший размер)
ffmpeg -i video.mp4 -c:v libx264 -preset slow -crf 32 -vf "scale=1280:-2" -c:a aac -b:a 96k -movflags +faststart video_mobile.mp4

# Создание постера (первый кадр)
ffmpeg -i video.mp4 -ss 00:00:01 -vframes 1 -q:v 2 poster.jpg
```

### Объяснение параметров:
- `-crf 28/32`: Качество видео (чем выше число, тем меньше размер файла)
- `-preset slow`: Лучшее сжатие (займет больше времени конвертации)
- `-movflags +faststart`: Оптимизация для потоковой передачи
- `scale=1920/-2`: Масштабирование до Full HD (для десктопа)
- `scale=1280/-2`: Масштабирование до HD (для мобильных)

## Адаптивная загрузка (опционально)

Можно добавить загрузку разных версий видео для разных устройств:

```vue
<video>
  <source 
    v-if="isMobile" 
    src="/videos/video_mobile.mp4" 
    type="video/mp4"
  >
  <source 
    v-else 
    src="/videos/video_optimized.mp4" 
    type="video/mp4"
  >
</video>
```

## WebP/AVIF форматы (будущее)

Для современных браузеров можно использовать форматы следующего поколения:

```html
<video>
  <source src="video.webm" type="video/webm">
  <source src="video.mp4" type="video/mp4">
</video>
```

### Конвертация в WebM:
```bash
ffmpeg -i video.mp4 -c:v libvpx-vp9 -crf 30 -b:v 0 -c:a libopus video.webm
```

## Проверка производительности

После оптимизации проверьте:
1. Размер файла (рекомендуется < 5MB для десктопа, < 2MB для мобильных)
2. Время загрузки в DevTools (Network tab)
3. Плавность воспроизведения

## Текущая реализация

Видео добавлено только в первый слайд. Если нужно добавить видео в другие слайды:

```javascript
const slides = [
  {
    title: 'Слайд 1',
    subtitle: 'Описание',
    image: '/images/hero1.jpg',
    video: '/videos/video.mp4'  // Добавляем видео
  },
  {
    title: 'Слайд 2',
    subtitle: 'Описание',
    image: '/images/hero2.jpg',
    video: '/videos/video2.mp4'  // Можно добавить другое видео
  }
]
```
